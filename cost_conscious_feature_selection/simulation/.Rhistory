setwd("~/Dropbox/Research/Code_and_Data/cost_conscious_feature_selection/simulation")
source('~/Dropbox/Research/Code_and_Data/cost_conscious_feature_selection/simulation/paper.R', echo=TRUE)
source('~/Dropbox/Research/Code_and_Data/cost_conscious_feature_selection/simulation/paper.R', echo=TRUE)
source('~/Dropbox/Research/Code_and_Data/cost_conscious_feature_selection/simulation/regression_paper.R', echo=TRUE)
source('~/Dropbox/Research/Code_and_Data/cost_conscious_feature_selection/simulation/spotting_paper.R', echo=TRUE)
matres
setwd("~/Dropbox/Research/Code_and_Data/cost_conscious_feature_selection/simulation")
source('~/Dropbox/Research/Code_and_Data/cost_conscious_feature_selection/simulation/paper.R', echo=TRUE)
remove.packages("mknockoff")
source('~/Dropbox/Research/Code_and_Data/cost_conscious_feature_selection/simulation/paper.R', echo=TRUE)
source('~/Dropbox/Research/Code_and_Data/cost_conscious_feature_selection/simulation/regression_paper.R', echo=TRUE)
source('~/Dropbox/Research/Code_and_Data/cost_conscious_feature_selection/simulation/spotting_paper.R', echo=TRUE)
matres
setwd("~/Dropbox/Research/Code_and_Data/cost_conscious_feature_selection/simulation")
setwd("~/Dropbox/Research/Code_and_Data/cost_conscious_feature_selection/simulation")
source('~/Dropbox/Research/Code_and_Data/cost_conscious_feature_selection/simulation/paper.R', echo=TRUE)
source('~/Dropbox/Research/Code_and_Data/cost_conscious_feature_selection/simulation/paper.R', echo=TRUE)
source('~/Dropbox/Research/Code_and_Data/cost_conscious_feature_selection/simulation/spotting_paper.R', echo=TRUE)
matres
ee[[1]]
model(sim)
m <- model(sim)
m[[1]]
m[[1]]@params$snr
m[[1]]@params$omega
e <- evals(sim)
e[[1]]
e[[1]]@evals$mk$r1.1
e[[1]]@evals$mk$r1.2
e[[1]]@evals$mk$r1.3
e[[1]]@evals$mk$r1.4
##### This is the source code used to plot Figure 1 and Table 1 of the paper
rm(list=ls())
source("for_plot.R")
library(scales)
# we could also compute the probability that sup_k ratio_k > 1
compute_prob <- function(evals, metric_idx){
pp <- rep(NA, length(evals))
names(pp) <- names(evals)
nsim <- nrow(evals[[1]][[1]])
for(i in seq(length(pp))){
vec <- rep(0, nsim)
ee <- evals[[i]][[1]] / evals[[i]][[metric_idx]]
for(j in seq(nsim)){
vec[j] <- any(ee[j, ] > 1)
}
pp[i] <- mean(vec)
}
return(pp)
}
################ plot ###################
sim <- load_simulation("alt_tau")
lty_seq <- c(5, 1)
col_seq_original <- c("black", "red")
col_seq <- unlist(lapply(col_seq_original, scales::alpha, 0.3))
lwd_seq <- c(0.8, 0.4)
cex_seq <- c(0.5, 0.5)
cex_legend <- 1.6
pdf(file = "ratio_alt_tau.pdf", width = 10, height = 7)
mat <- matrix(seq(6), 2)
layout(mat, c(9.7, 9, 9.01), c(1, 1, 1))
par(cex.main = 1.6, cex.lab = 1.6, cex.axis = 1.2)
ylab <- "Mean squared error"
xlab <- expression(k)
# first column
par(mar = c(0, 5, 3, 0))
sub <- subset_simulation(sim = sim, subset = 1)
e <- extract_evals(sub)
e
e$multiple$wfdp
e$multiple$wfdp[[1]]
e$multiple$wfdp[1]
length(e$multiple$wfdp)
dim(e$multiple$wfdp)
e$multiple$wfdp[1, ]
e$multiple$wfdp[2, ]
e$multiple$wfdp[3, ]
e$multiple$bound[3, ]
source('~/Dropbox/Research/Code_and_Data/cost_conscious_feature_selection/simulation/paper.R', echo=TRUE)
source('~/Dropbox/Research/Code_and_Data/cost_conscious_feature_selection/simulation/spotting_paper.R', echo=TRUE)
matres
e$multiple$bound
a <- rnorm(10)
min(a, 1)
source('~/Dropbox/Research/Code_and_Data/cost_conscious_feature_selection/simulation/paper.R', echo=TRUE)
source('~/Dropbox/Research/Code_and_Data/cost_conscious_feature_selection/simulation/spotting_paper.R', echo=TRUE)
matres
